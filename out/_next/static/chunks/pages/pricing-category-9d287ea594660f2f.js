(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{609:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/pricing-category",function(){return r(4168)}])},5204:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var i=r(4848);r(6540);var a=r(8331);let o=e=>{let{title:t,children:r,maxWidth:o=1200,fullWidth:n=!1}=e;return(0,i.jsx)(a.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:n?"100%":o,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:r})}},4168:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var i=r(4848),a=r(6540),o=r(1565),n=r(6740),s=r(1531),c=r(878),l=r(9901),d=r(3608),g=r(1027),u=r(3093);r(4338);var p=r(1303),m=r(1609),y=r(5204),h=r(5349),f=r(8899);let{Title:x}=o.A,A=()=>{let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[A,j]=(0,a.useState)(!1),[w,C]=(0,a.useState)(null),[v]=n.A.useForm(),b=async()=>{try{let e=await fetch("".concat("http://192.168.0.104:5216/api","/pricingcategories"));if(!e.ok)throw Error("Failed to fetch pricing categories");let r=await e.json();t(r)}catch(e){u.oR.error("Failed to fetch pricing categories")}};(0,a.useEffect)(()=>{b()},[]);let N=()=>{o(!1)},k=async()=>{try{let r=await v.validateFields();console.log(r);let i={id:(0,p.A)(),pricingCategoryName:r.name,description:r.description,volumeBase:r.volumeBase},a=await fetch("".concat("http://192.168.0.104:5216/api","/pricingcategories"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to add pricing category")}let o=await a.json();t([...e,o]),N(),u.oR.success("Pricing Category added successfully!")}catch(e){u.oR.error(e.message||"Failed to add pricing category")}},E=async(r,i)=>{try{if(!(await fetch("".concat("http://192.168.0.104:5216/api","/pricingcategories/").concat(r),{method:"DELETE"})).ok)throw Error("Failed to delete pricing category");t(e.filter(e=>e.id!==r)),u.oR.success('Pricing Category "'.concat(i,'" deleted successfully!'))}catch(e){u.oR.error(e.message||"Failed to delete pricing category")}},P=e=>{C(e),j(!0),v.setFieldsValue({name:e.pricingCategoryName,description:e.description,volumeBase:e.volumeBase})},I=()=>{j(!1),C(null)},B=async()=>{try{let r=await v.validateFields(),i={...w,pricingCategoryName:r.name,description:r.description,volumeBase:r.volumeBase};if(!(await fetch("".concat("http://192.168.0.104:5216/api","/pricingcategories/").concat(w.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("Failed to update pricing category");t(e.map(e=>e.id===i.id?i:e)),I(),u.oR.success("Pricing Category updated successfully!")}catch(e){u.oR.error("Failed to update pricing category")}},F=[{title:"Pricing Category Name",dataIndex:"pricingCategoryName",key:"pricingCategoryName"},{title:"Description",dataIndex:"description",key:"description"},{title:"Volume Base",dataIndex:"volumeBase",key:"volumeBase"},{title:"Actions",key:"actions",render:(e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Ay,{type:"link",onClick:()=>P(t),icon:(0,i.jsx)(h.A,{})}),(0,i.jsx)(c.A,{title:'Are you sure to delete "'.concat(t.pricingCategoryName,'"?'),onConfirm:()=>E(t.id,t.pricingCategoryName),okText:"Yes",cancelText:"No",children:(0,i.jsx)(s.Ay,{type:"link",danger:!0,icon:(0,i.jsx)(f.A,{})})})]})}];return(0,i.jsxs)(m.A,{children:[(0,i.jsx)(y.A,{title:"Pricing Category Management",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)(x,{level:4,children:"Manage Pricing Categories"}),(0,i.jsx)(s.Ay,{type:"primary",onClick:()=>{o(!0),v.resetFields()},style:{marginBottom:16},children:"Add Pricing Category"}),(0,i.jsx)(l.A,{dataSource:e,columns:F,rowKey:"id",bordered:!0,pagination:{pageSize:5}}),(0,i.jsx)(d.A,{title:"Add Pricing Category",visible:r,onCancel:N,onOk:k,children:(0,i.jsxs)(n.A,{form:v,layout:"vertical",children:[(0,i.jsx)(n.A.Item,{name:"name",label:"Pricing Category Name",rules:[{required:!0,message:"Please enter pricing category name"}],children:(0,i.jsx)(g.A,{})}),(0,i.jsx)(n.A.Item,{name:"description",label:"Description",children:(0,i.jsx)(g.A.TextArea,{rows:4})}),(0,i.jsx)(n.A.Item,{name:"volumeBase",label:"Volume Base",children:(0,i.jsx)(g.A,{})})]})}),(0,i.jsx)(d.A,{title:"Edit Pricing Category",visible:A,onCancel:I,onOk:B,children:(0,i.jsxs)(n.A,{form:v,layout:"vertical",children:[(0,i.jsx)(n.A.Item,{name:"name",label:"Pricing Category Name",rules:[{required:!0,message:"Please enter pricing category name"}],children:(0,i.jsx)(g.A,{})}),(0,i.jsx)(n.A.Item,{name:"description",label:"Description",children:(0,i.jsx)(g.A.TextArea,{rows:4})}),(0,i.jsx)(n.A.Item,{name:"volumeBase",label:"Volume Base",children:(0,i.jsx)(g.A,{})})]})})]})}),(0,i.jsx)(u.N9,{})]})}},1303:(e,t,r)=>{"use strict";let i;r.d(t,{A:()=>s});let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));let s=function(e,t,r){if(a.randomUUID&&!t&&!e)return a.randomUUID();let s=(e=e||{}).random??e.rng?.()??function(){if(!i){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(o)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}(s)}}},e=>{var t=t=>e(e.s=t);e.O(0,[994,1531,8331,3418,2453,5262,7239,2084,1106,8728,3067,6740,3093,1565,7078,9901,3608,3009,1609,636,6593,8792],()=>t(609)),_N_E=e.O()}]);