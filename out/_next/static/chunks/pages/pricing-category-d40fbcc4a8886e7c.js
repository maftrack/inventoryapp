(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{609:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/pricing-category",function(){return i(4168)}])},5204:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(4848);i(6540);var a=i(8331);let n=e=>{let{title:t,children:i,maxWidth:n=1200,fullWidth:o=!1}=e;return(0,r.jsx)(a.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:o?"100%":n,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:i})}},4168:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var r=i(4848),a=i(6540),n=i(1565),o=i(6740),s=i(1531),c=i(878),l=i(9901),d=i(3608),u=i(1027),g=i(3093);i(4338);var p=i(1303),m=i(1609),y=i(5204),h=i(5349),f=i(8899);let{Title:j}=n.A,x=()=>{let[e,t]=(0,a.useState)([]),[i,n]=(0,a.useState)(!1),[x,A]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),[v]=o.A.useForm(),C=async()=>{try{let e=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/pricingcategories"));if(!e.ok)throw Error("Failed to fetch pricing categories");let i=await e.json();t(i)}catch(e){g.oR.error("Failed to fetch pricing categories")}};(0,a.useEffect)(()=>{C()},[]);let N=()=>{n(!1)},k=async()=>{try{let i=await v.validateFields();console.log(i);let r={id:(0,p.A)(),pricingCategoryName:i.name,description:i.description,volumeBase:i.volumeBase},a=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/pricingcategories"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to add pricing category")}let n=await a.json();t([...e,n]),N(),g.oR.success("Pricing Category added successfully!")}catch(e){g.oR.error(e.message||"Failed to add pricing category")}},E=async(i,r)=>{try{if(!(await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/pricingcategories/").concat(i),{method:"DELETE"})).ok)throw Error("Failed to delete pricing category");t(e.filter(e=>e.id!==i)),g.oR.success('Pricing Category "'.concat(r,'" deleted successfully!'))}catch(e){g.oR.error(e.message||"Failed to delete pricing category")}},P=e=>{w(e),A(!0),v.setFieldsValue({name:e.pricingCategoryName,description:e.description,volumeBase:e.volumeBase})},I=()=>{A(!1),w(null)},B=async()=>{try{let i=await v.validateFields(),r={...b,pricingCategoryName:i.name,description:i.description,volumeBase:i.volumeBase};if(!(await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/pricingcategories/").concat(b.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw Error("Failed to update pricing category");t(e.map(e=>e.id===r.id?r:e)),I(),g.oR.success("Pricing Category updated successfully!")}catch(e){g.oR.error("Failed to update pricing category")}},F=[{title:"Pricing Category Name",dataIndex:"pricingCategoryName",key:"pricingCategoryName"},{title:"Description",dataIndex:"description",key:"description"},{title:"Volume Base",dataIndex:"volumeBase",key:"volumeBase"},{title:"Actions",key:"actions",render:(e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Ay,{type:"link",onClick:()=>P(t),icon:(0,r.jsx)(h.A,{})}),(0,r.jsx)(c.A,{title:'Are you sure to delete "'.concat(t.pricingCategoryName,'"?'),onConfirm:()=>E(t.id,t.pricingCategoryName),okText:"Yes",cancelText:"No",children:(0,r.jsx)(s.Ay,{type:"link",danger:!0,icon:(0,r.jsx)(f.A,{})})})]})}];return(0,r.jsxs)(m.A,{children:[(0,r.jsx)(y.A,{title:"Pricing Category Management",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)(j,{level:4,children:"Manage Pricing Categories"}),(0,r.jsx)(s.Ay,{type:"primary",onClick:()=>{n(!0),v.resetFields()},style:{marginBottom:16},children:"Add Pricing Category"}),(0,r.jsx)(l.A,{dataSource:e,columns:F,rowKey:"id",bordered:!0,pagination:{pageSize:5}}),(0,r.jsx)(d.A,{title:"Add Pricing Category",visible:i,onCancel:N,onOk:k,children:(0,r.jsxs)(o.A,{form:v,layout:"vertical",children:[(0,r.jsx)(o.A.Item,{name:"name",label:"Pricing Category Name",rules:[{required:!0,message:"Please enter pricing category name"}],children:(0,r.jsx)(u.A,{})}),(0,r.jsx)(o.A.Item,{name:"description",label:"Description",children:(0,r.jsx)(u.A.TextArea,{rows:4})}),(0,r.jsx)(o.A.Item,{name:"volumeBase",label:"Volume Base",children:(0,r.jsx)(u.A,{})})]})}),(0,r.jsx)(d.A,{title:"Edit Pricing Category",visible:x,onCancel:I,onOk:B,children:(0,r.jsxs)(o.A,{form:v,layout:"vertical",children:[(0,r.jsx)(o.A.Item,{name:"name",label:"Pricing Category Name",rules:[{required:!0,message:"Please enter pricing category name"}],children:(0,r.jsx)(u.A,{})}),(0,r.jsx)(o.A.Item,{name:"description",label:"Description",children:(0,r.jsx)(u.A.TextArea,{rows:4})}),(0,r.jsx)(o.A.Item,{name:"volumeBase",label:"Volume Base",children:(0,r.jsx)(u.A,{})})]})})]})}),(0,r.jsx)(g.N9,{})]})}},1303:(e,t,i)=>{"use strict";let r;i.d(t,{A:()=>s});let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},n=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let s=function(e,t,i){if(a.randomUUID&&!t&&!e)return a.randomUUID();let s=(e=e||{}).random??e.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(n)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((i=i||0)<0||i+16>t.length)throw RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[i+e]=s[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(s)}}},e=>{var t=t=>e(e.s=t);e.O(0,[6053,3418,8331,2453,5262,7239,2084,1106,8728,3067,6740,3093,7078,9901,1565,3608,3009,1609,636,6593,8792],()=>t(609)),_N_E=e.O()}]);