(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7146],{2403:(t,a,e)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage-purchase-form",function(){return e(573)}])},5204:(t,a,e)=>{"use strict";e.d(a,{A:()=>s});var n=e(4848);e(6540);var o=e(8331);let s=t=>{let{title:a,children:e,maxWidth:s=1200,fullWidth:c=!1}=t;return(0,n.jsx)(o.A,{title:a,bordered:!1,style:{width:"100%",maxWidth:c?"100%":s,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:e})}},7241:(t,a,e)=>{"use strict";e.d(a,{A:()=>n});let n=t=>({[t.componentCls]:{["".concat(t.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut,",\n        opacity ").concat(t.motionDurationMid," ").concat(t.motionEaseInOut," !important")}},["".concat(t.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut,",\n        opacity ").concat(t.motionDurationMid," ").concat(t.motionEaseInOut," !important")}}})},573:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>u});var n=e(4848),o=e(5204),s=e(1609),c=e(1531),r=e(9901),i=e(6715),d=e(6540);let u=()=>{let t=(0,i.useRouter)(),[a,e]=(0,d.useState)([]);(0,d.useEffect)(()=>{(async()=>{try{let t=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/Purchase")),a=(await t.json()).map((t,a)=>({key:a+1,transactionId:t.transactionId,customerId:t.customerid,customer:t.customerName,totalPurchase:t.creditsPurchased,totalUsed:t.totalUsed,balance:t.creditsPurchased,status:t.status,date:new Date(t.purchaseDate).toLocaleDateString()}));e(a)}catch(t){console.error("Error fetching transactions:",t)}})()},[]);let u=t=>btoa(new URLSearchParams(t).toString()),l=[{title:"Transaction ID",dataIndex:"transactionId",key:"transactionId"},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Total Purchase",dataIndex:"totalPurchase",key:"totalPurchase"},{title:"Total Used",dataIndex:"totalUsed",key:"totalUsed"},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Status",dataIndex:"status",key:"status"},{title:"Date",dataIndex:"date",key:"date"},{title:"Action",key:"action",render:(a,e)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Ay,{type:"link",onClick:()=>{let a=u({transactionId:e.transactionId,totalPurchase:e.totalPurchase,csname:e.customer,csid:e.customerid});t.push("/manage-purchase-form/purchased-manager?data=".concat(a))},children:"View"}),(0,n.jsx)(c.Ay,{type:"link",onClick:()=>t.push("/manage-purchase-form/edit?transactionId=".concat(e.transactionId,"&totalPurchase=").concat(e.totalPurchase)),children:"Modify"})]})}];return(0,n.jsx)(s.A,{children:(0,n.jsxs)(o.A,{title:"Manage Purchases",children:[(0,n.jsx)(c.Ay,{type:"primary",style:{marginBottom:16},onClick:()=>t.push("/manage-purchase-form/addPurchase"),children:"Create Purchase"}),a.length>0?(0,n.jsx)(r.A,{bordered:!0,columns:l,dataSource:a}):(0,n.jsx)("p",{children:"Loading transactions..."})]})})}},6715:(t,a,e)=>{t.exports=e(8440)}},t=>{var a=a=>t(t.s=a);t.O(0,[6053,3418,8331,2453,5262,7239,2084,1106,8728,3067,7078,9901,1609,636,6593,8792],()=>a(2403)),_N_E=t.O()}]);