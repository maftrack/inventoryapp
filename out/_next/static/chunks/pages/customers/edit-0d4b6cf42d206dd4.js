(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1794],{2720:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/edit",function(){return t(1108)}])},5204:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(4848);t(6540);var l=t(8331);let r=e=>{let{title:s,children:t,maxWidth:r=1200,fullWidth:i=!1}=e;return(0,a.jsx)(l.A,{title:s,bordered:!1,style:{width:"100%",maxWidth:i?"100%":r,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:t})}},1108:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(4848),l=t(6540),r=t(1565),i=t(6740),o=t(1027),d=t(5872),n=t(1531),c=t(6715),m=t(3093);t(4338);var u=t(5093),h=t.n(u),p=t(5204),x=t(1609);let{Title:j}=r.A,f=()=>{let e=(0,c.useRouter)(),{id:s}=e.query,[t]=i.A.useForm();(0,l.useEffect)(()=>{s&&r(s)},[s]);let r=async e=>{try{let s=await fetch("".concat("http://192.168.0.104:5216/api","/customers/").concat(e));if(!s.ok)throw Error("Failed to fetch customer data");let a=await s.json();console.log(a),t.setFieldsValue({...a,dob:a.dob?h()(a.dob):null})}catch(e){m.oR.error(e.message||"Failed to fetch customer data")}},u=async()=>{try{let a=await t.validateFields(),l={id:s,fullName:a.fullName,email:a.email,telephone:a.telephone,address:a.address,dob:a.dob.format("YYYY-MM-DD"),notes:a.notes},r=await fetch("".concat("http://192.168.0.104:5216/api","/customers/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to update customer")}m.oR.success("Customer updated successfully!"),e.push("/customers")}catch(e){m.oR.error(e.message||"Failed to update customer")}};return(0,a.jsx)(x.A,{children:(0,a.jsx)(p.A,{title:"Edit Customers",children:(0,a.jsxs)("div",{style:{padding:"20px"},children:[(0,a.jsx)(j,{level:4,children:"Edit Customer"}),(0,a.jsxs)(i.A,{form:t,layout:"vertical",onFinish:u,children:[(0,a.jsx)(i.A.Item,{name:"fullName",label:"Full Name",rules:[{required:!0,message:"Please enter full name"}],children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(i.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Invalid email format"}],children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(i.A.Item,{name:"telephone",label:"Telephone",rules:[{required:!0,message:"Please enter telephone number"}],children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(i.A.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"}],children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(i.A.Item,{name:"dob",label:"Date of Birth",rules:[{required:!0,message:"Please select date of birth"}],children:(0,a.jsx)(d.A,{style:{width:"100%"}})}),(0,a.jsx)(i.A.Item,{name:"notes",label:"Notes",children:(0,a.jsx)(o.A.TextArea,{rows:4})}),(0,a.jsxs)(i.A.Item,{children:[(0,a.jsx)(n.Ay,{type:"default",onClick:()=>e.back(),children:"Back"}),(0,a.jsx)(n.Ay,{type:"primary",htmlType:"submit",children:"Save Changes"})]})]}),(0,a.jsx)(m.N9,{})]})})})}},4338:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[3197,994,1531,8331,3418,2453,5262,7239,2084,1106,3067,6740,3093,1565,6174,1609,636,6593,8792],()=>s(2720)),_N_E=e.O()}]);