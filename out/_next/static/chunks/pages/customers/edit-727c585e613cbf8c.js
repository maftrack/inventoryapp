(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1794],{2720:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/edit",function(){return s(1108)}])},5204:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(4848);s(6540);var a=s(8331);let l=e=>{let{title:t,children:s,maxWidth:l=1200,fullWidth:n=!1}=e;return(0,r.jsx)(a.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:n?"100%":l,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:s})}},1017:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(4542),a=function(e){if((0,r.A)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],s=window.document.documentElement;return t.some(function(e){return e in s.style})}return!1},l=function(e,t){if(!a(e))return!1;var s=document.createElement("div"),r=s.style[e];return s.style[e]=t,s.style[e]!==r};function n(e,t){return Array.isArray(e)||void 0===t?a(e):l(e,t)}},1108:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(4848),a=s(6540),l=s(1565),n=s(6740),i=s(1027),o=s(5872),d=s(1531),u=s(6715),c=s(3093);s(4338);var m=s(5093),h=s.n(m),f=s(5204),p=s(1609);let{Title:y}=l.A,j=()=>{let e=(0,u.useRouter)(),{id:t}=e.query,[s]=n.A.useForm();(0,a.useEffect)(()=>{t&&l(t)},[t]);let l=async e=>{try{let t=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/customers/").concat(e));if(!t.ok)throw Error("Failed to fetch customer data");let r=await t.json();console.log(r),s.setFieldsValue({...r,dob:r.dob?h()(r.dob):null})}catch(e){c.oR.error(e.message||"Failed to fetch customer data")}},m=async()=>{try{let r=await s.validateFields(),a={id:t,fullName:r.fullName,email:r.email,telephone:r.telephone,address:r.address,dob:r.dob.format("YYYY-MM-DD"),notes:r.notes},l=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/customers/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){let e=await l.json();throw Error(e.message||"Failed to update customer")}c.oR.success("Customer updated successfully!"),e.push("/customers")}catch(e){c.oR.error(e.message||"Failed to update customer")}};return(0,r.jsx)(p.A,{children:(0,r.jsx)(f.A,{title:"Edit Customers",children:(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)(y,{level:4,children:"Edit Customer"}),(0,r.jsxs)(n.A,{form:s,layout:"vertical",onFinish:m,children:[(0,r.jsx)(n.A.Item,{name:"fullName",label:"Full Name",rules:[{required:!0,message:"Please enter full name"}],children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(n.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Invalid email format"}],children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(n.A.Item,{name:"telephone",label:"Telephone",rules:[{required:!0,message:"Please enter telephone number"}],children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(n.A.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"}],children:(0,r.jsx)(i.A,{})}),(0,r.jsx)(n.A.Item,{name:"dob",label:"Date of Birth",rules:[{required:!0,message:"Please select date of birth"}],children:(0,r.jsx)(o.A,{style:{width:"100%"}})}),(0,r.jsx)(n.A.Item,{name:"notes",label:"Notes",children:(0,r.jsx)(i.A.TextArea,{rows:4})}),(0,r.jsxs)(n.A.Item,{children:[(0,r.jsx)(d.Ay,{type:"default",onClick:()=>e.back(),children:"Back"}),(0,r.jsx)(d.Ay,{type:"primary",htmlType:"submit",children:"Save Changes"})]})]}),(0,r.jsx)(c.N9,{})]})})})}},4338:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[3197,6053,3418,8331,2453,5262,7239,2084,1106,3067,6740,3093,1565,6174,1609,636,6593,8792],()=>t(2720)),_N_E=e.O()}]);