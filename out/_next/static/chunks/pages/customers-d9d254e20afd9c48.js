(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2179],{2117:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return n(6554)}])},5204:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4848);n(6540);var o=n(8331);let i=e=>{let{title:t,children:n,maxWidth:i=1200,fullWidth:a=!1}=e;return(0,r.jsx)(o.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:a?"100%":i,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:n})}},7271:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(6540);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var a=n(9121);let c=o.forwardRef(function(e,t){return o.createElement(a.A,(0,r.A)({},e,{ref:t,icon:i}))})},6823:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(6540),o=n(9257),i=n(1531),a=n(5505);function c(e){return!!(null==e?void 0:e.then)}let l=e=>{let{type:t,children:n,prefixCls:l,buttonProps:s,close:d,autoFocus:u,emitEvent:m,isSilent:h,quitOnNullishReturnValue:f,actionFn:p}=e,x=r.useRef(!1),y=r.useRef(null),[A,v]=(0,o.A)(!1),E=function(){null==d||d.apply(void 0,arguments)};r.useEffect(()=>{let e=null;return u&&(e=setTimeout(()=>{var e;null===(e=y.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[]);let g=e=>{c(e)&&(v(!0),e.then(function(){v(!1,!0),E.apply(void 0,arguments),x.current=!1},e=>{if(v(!1,!0),x.current=!1,null==h||!h())return Promise.reject(e)}))};return r.createElement(i.Ay,Object.assign({},(0,a.DU)(t),{onClick:e=>{let t;if(!x.current){if(x.current=!0,!p){E();return}if(m){if(t=p(e),f&&!c(t)){x.current=!1,E(e);return}}else if(p.length)t=p(d),x.current=!1;else if(!c(t=p())){E();return}g(t)}},loading:A,prefixCls:l},s,{ref:y}),n)}},7241:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}})},6554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(4848),o=n(6540),i=n(1565),a=n(1531),c=n(878),l=n(9901),s=n(6715),d=n(3093);n(4338);var u=n(5349),m=n(8899),h=n(1609),f=n(5204);let{Title:p}=i.A,x=()=>{let e=(0,s.useRouter)(),[t,n]=(0,o.useState)([]),i=async()=>{try{let e=await fetch("".concat("http://192.168.0.104:5216/api","/customers"));if(!e.ok)throw Error("Failed to fetch customers");let t=await e.json();n(t)}catch(e){d.oR.error(e.message||"Failed to fetch customers")}};(0,o.useEffect)(()=>{i()},[]);let x=t=>{e.push("/customers/edit?id=".concat(t))},y=async(e,t)=>{try{if(!(await fetch("".concat("http://192.168.0.104:5216/api","/customers/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete customer");d.oR.success("".concat(t," has been deleted successfully"))}catch(e){d.oR.error(e.message||"Failed to delete customer")}},A=[{title:"Full Name",dataIndex:"fullName",key:"fullName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Telephone",dataIndex:"telephone",key:"telephone"},{title:"Address",dataIndex:"address",key:"address"},{title:"Date of Birth",dataIndex:"dob",key:"dob"},{title:"Actions",key:"actions",render:(e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Ay,{type:"link",onClick:()=>x(t.id),icon:(0,r.jsx)(u.A,{}),children:"Edit"}),(0,r.jsx)(c.A,{title:'Are you sure to delete "'.concat(t.fullName,'"?'),onConfirm:()=>y(t.id,t.fullName),okText:"Yes",cancelText:"No",children:(0,r.jsx)(a.Ay,{type:"link",danger:!0,icon:(0,r.jsx)(m.A,{}),children:"Delete"})})]})}];return(0,r.jsx)(h.A,{children:(0,r.jsx)(f.A,{title:"Customers",children:(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)(p,{level:4,children:"Customer Management"}),(0,r.jsx)(a.Ay,{type:"primary",onClick:()=>{e.push("/customers/add")},style:{marginBottom:"20px"},children:"Add Customer"}),(0,r.jsx)(l.A,{dataSource:t,columns:A,rowKey:"id",bordered:!0,pagination:{pageSize:5}}),(0,r.jsx)(d.N9,{})]})})})}},6715:(e,t,n)=>{e.exports=n(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[994,1531,8331,3418,2453,5262,7239,2084,1106,8728,3067,3093,1565,7078,9901,3009,1609,636,6593,8792],()=>t(2117)),_N_E=e.O()}]);