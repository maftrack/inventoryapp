(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2179],{2117:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return n(6554)}])},5204:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4848);n(6540);var o=n(8331);let a=e=>{let{title:t,children:n,maxWidth:a=1200,fullWidth:i=!1}=e;return(0,r.jsx)(o.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:i?"100%":a,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:n})}},7271:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8168),o=n(6540);let a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var i=n(9121);let s=o.forwardRef(function(e,t){return o.createElement(i.A,(0,r.A)({},e,{ref:t,icon:a}))})},6823:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(6540),o=n(9257),a=n(1531),i=n(5505);function s(e){return!!(null==e?void 0:e.then)}let c=e=>{let{type:t,children:n,prefixCls:c,buttonProps:l,close:u,autoFocus:d,emitEvent:h,isSilent:m,quitOnNullishReturnValue:f,actionFn:p}=e,y=r.useRef(!1),x=r.useRef(null),[v,A]=(0,o.A)(!1),j=function(){null==u||u.apply(void 0,arguments)};r.useEffect(()=>{let e=null;return d&&(e=setTimeout(()=>{var e;null===(e=x.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[]);let w=e=>{s(e)&&(A(!0),e.then(function(){A(!1,!0),j.apply(void 0,arguments),y.current=!1},e=>{if(A(!1,!0),y.current=!1,null==m||!m())return Promise.reject(e)}))};return r.createElement(a.Ay,Object.assign({},(0,i.DU)(t),{onClick:e=>{let t;if(!y.current){if(y.current=!0,!p){j();return}if(h){if(t=p(e),f&&!s(t)){y.current=!1,j(e);return}}else if(p.length)t=p(u),y.current=!1;else if(!s(t=p())){j();return}w(t)}},loading:v,prefixCls:c},l,{ref:x}),n)}},7241:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}})},6554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(4848),o=n(6540),a=n(1565),i=n(1531),s=n(878),c=n(9901),l=n(6715),u=n(3093);n(4338);var d=n(5349),h=n(8899),m=n(1609),f=n(5204);let{Title:p}=a.A,y=()=>{let e=(0,l.useRouter)(),[t,n]=(0,o.useState)([]),a=async()=>{try{let e=await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/customers"));if(!e.ok)throw Error("Failed to fetch customers");let t=await e.json();n(t)}catch(e){u.oR.error(e.message||"Failed to fetch customers")}};(0,o.useEffect)(()=>{a()},[]);let y=t=>{e.push("/customers/edit?id=".concat(t))},x=async(e,t)=>{try{if(!(await fetch("".concat("https://inventoryapp-be-fuenbjdjhpahefh3.southeastasia-01.azurewebsites.net/api","/customers/").concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete customer");u.oR.success("".concat(t," has been deleted successfully"))}catch(e){u.oR.error(e.message||"Failed to delete customer")}},v=[{title:"Full Name",dataIndex:"fullName",key:"fullName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Telephone",dataIndex:"telephone",key:"telephone"},{title:"Address",dataIndex:"address",key:"address"},{title:"Date of Birth",dataIndex:"dob",key:"dob"},{title:"Actions",key:"actions",render:(e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Ay,{type:"link",onClick:()=>y(t.id),icon:(0,r.jsx)(d.A,{}),children:"Edit"}),(0,r.jsx)(s.A,{title:'Are you sure to delete "'.concat(t.fullName,'"?'),onConfirm:()=>x(t.id,t.fullName),okText:"Yes",cancelText:"No",children:(0,r.jsx)(i.Ay,{type:"link",danger:!0,icon:(0,r.jsx)(h.A,{}),children:"Delete"})})]})}];return(0,r.jsx)(m.A,{children:(0,r.jsx)(f.A,{title:"Customers",children:(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)(p,{level:4,children:"Customer Management"}),(0,r.jsx)(i.Ay,{type:"primary",onClick:()=>{e.push("/customers/add")},style:{marginBottom:"20px"},children:"Add Customer"}),(0,r.jsx)(c.A,{dataSource:t,columns:v,rowKey:"id",bordered:!0,pagination:{pageSize:5}}),(0,r.jsx)(u.N9,{})]})})})}},6715:(e,t,n)=>{e.exports=n(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[6053,3418,8331,2453,5262,7239,2084,1106,8728,3067,3093,7078,9901,1565,3009,1609,636,6593,8792],()=>t(2117)),_N_E=e.O()}]);