(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{2733:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(2961)}])},5204:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(4848);s(6540);var r=s(8331);let o=e=>{let{title:t,children:s,maxWidth:o=1200,fullWidth:l=!1}=e;return(0,a.jsx)(r.A,{title:t,bordered:!1,style:{width:"100%",maxWidth:l?"100%":o,margin:"0 auto",transition:"max-width 0.2s ease-in-out"},children:s})}},2961:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(4848),r=s(6540),o=s(6216),l=s(3962),i=s(8331),d=s(7112),n=s(6118),c=s(1609),h=s(5204);n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$,n.FN,n.No,n.Bs);let x=()=>{let[e,t]=(0,r.useState)(0),[s,n]=(0,r.useState)(0),[x,p]=(0,r.useState)(0),[b,g]=(0,r.useState)({}),[u,f]=(0,r.useState)([]),[y,m]=(0,r.useState)([]),[j,S]=(0,r.useState)([]),[v,A]=(0,r.useState)([]),[C,w]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{let e="http://192.168.0.104:5216/api",[s,a,r,o,l,i,d,c,h]=await Promise.all([fetch("".concat(e,"/dashboard/total-customers")).then(e=>e.json()),fetch("".concat(e,"/dashboard/total-credits-available")).then(e=>e.json()),fetch("".concat(e,"/dashboard/total-services")).then(e=>e.json()),fetch("".concat(e,"/dashboard/most-popular-service")).then(e=>e.json()),fetch("".concat(e,"/dashboard/total-purchases-over-time")).then(e=>e.json()),fetch("".concat(e,"/dashboard/credits-purchased-by-customers")).then(e=>e.json()),fetch("".concat(e,"/dashboard/service-usage-by-category")).then(e=>e.json()),fetch("".concat(e,"/dashboard/purchase-status-distribution")).then(e=>e.json()),fetch("".concat(e,"/dashboard/average-credit-used-per-purchase")).then(e=>e.json())]);t(s),n(a),p(r),g(o),f(l),m(i),S(d),A(c),w(h)}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,a.jsx)(c.A,{children:(0,a.jsxs)(h.A,{title:"Dashboard",children:[(0,a.jsxs)(o.A,{gutter:[16,16],style:{marginBottom:"24px"},children:[(0,a.jsx)(l.A,{xs:24,sm:12,md:6,children:(0,a.jsxs)(i.A,{style:{background:"linear-gradient(135deg, #004f9b 0%, #fda085 100%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",color:"#fff"},children:[(0,a.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:"Total Customers"}),(0,a.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:e})]})}),(0,a.jsx)(l.A,{xs:24,sm:12,md:6,children:(0,a.jsxs)(i.A,{style:{background:"linear-gradient(135deg, #004f9b 0%, #8fd3f4 100%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",color:"#fff"},children:[(0,a.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:"Total Services "}),(0,a.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:[x," Services"]})]})}),(0,a.jsx)(l.A,{xs:24,sm:12,md:6,children:(0,a.jsxs)(i.A,{style:{background:"linear-gradient(135deg, #004f9b 0%, #a6c1ee 100%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",color:"#fff"},children:[(0,a.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:"Total Credits Available"}),(0,a.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:s})]})}),(0,a.jsx)(l.A,{xs:24,sm:12,md:6,children:(0,a.jsxs)(i.A,{style:{background:"linear-gradient(135deg, #004f9b 0%, #fad0c4 100%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",color:"#fff"},children:[(0,a.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:"Most Popular Service"}),(0,a.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold"},children:[b.serviceName," (",b.purchaseCount,")"]})]})})]}),(0,a.jsxs)(o.A,{gutter:[16,16],style:{marginBottom:"24px",display:"flex",alignItems:"stretch"},children:[(0,a.jsx)(l.A,{xs:24,md:16,children:(0,a.jsx)(i.A,{title:"Total Purchases Over Time",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",height:"100%"},children:(0,a.jsx)(d.N1,{data:{labels:u.map(e=>e.date),datasets:[{label:"Total Purchases",data:u.map(e=>e.totalPurchases),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Total Purchases Over Time"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Total Purchases"}}}}})})}),(0,a.jsx)(l.A,{xs:24,md:8,children:(0,a.jsx)(i.A,{title:"Service Usage by Category",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",height:"100%"},children:(0,a.jsx)(d.Fq,{data:{labels:j.map(e=>e.categoryName),datasets:[{label:"Total Services",data:j.map(e=>e.totalService),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Service Usage by Category"},legend:{position:"bottom"}}}})})})]}),(0,a.jsxs)(o.A,{gutter:[16,16],style:{marginBottom:"24px"},children:[(0,a.jsx)(l.A,{xs:24,md:8,children:(0,a.jsx)(i.A,{title:"Purchase Status Distribution",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:(0,a.jsx)(d.yP,{data:{labels:v.map(e=>e.status),datasets:[{label:"Purchase Status Distribution",data:v.map(e=>e.count),backgroundColor:v.map((e,t)=>"hsl(".concat(90*t,", 70%, 50%)")),borderColor:v.map((e,t)=>"hsl(".concat(90*t,", 70%, 30%)")),borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Purchase Status Distribution"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"Status"}},y:{title:{display:!0,text:"Count"}}}}})})}),(0,a.jsx)(l.A,{xs:24,md:8,children:(0,a.jsx)(i.A,{title:"Average Credit Used per Purchase",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:(0,a.jsx)(d.N1,{data:{labels:C.map(e=>e.date),datasets:[{label:"Average Credit Used",data:C.map(e=>e.averageCreditUsed),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Average Credit Used per Purchase"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Average Credit Used"}}}}})})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5201,994,8331,1106,8840,1609,636,6593,8792],()=>t(2733)),_N_E=e.O()}]);